<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bâti Rénov - L'Excellence du Confort Habitat</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Configuration des couleurs et de la police */
        :root {
            --color-dark-blue: #063A5C; /* Bleu foncé */
            --color-light-blue: #1FA4E5; /* Bleu clair */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc; /* Arrière-plan très clair pour le style clean */
        }
        .bg-dark-blue { background-color: var(--color-dark-blue); }
        .text-dark-blue { color: var(--color-dark-blue); }
        .bg-light-blue { background-color: var(--color-light-blue); }
        .text-light-blue { color: var(--color-light-blue); }
        .border-light-blue { border-color: var(--color-light-blue); }
        .hero-section {
            background-color: var(--color-dark-blue);
            background-image: linear-gradient(rgba(6, 58, 92, 0.85), rgba(6, 58, 92, 0.85)), url('https://placehold.co/1920x800/063A5C/FFFFFF?text=Facade+R%C3%A9nov%C3%A9e');
            background-size: cover;
            background-position: center;
        }
        /* Style pour les cartes avant/après pour un effet mosaïque */
        .realisation-card {
            aspect-ratio: 1 / 1;
            object-fit: cover;
        }
        .cta-button {
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(31, 164, 229, 0.5);
        }

        /* --- STYLES DU FORMULAIRE MULTI-ÉTAPES ADAPTÉS --- */
        .radio-custom {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
        }
        .radio-custom:checked {
            border-color: var(--color-light-blue); /* Couleur principale Bâti Rénov */
            background: white;
        }
        .radio-custom:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: var(--color-light-blue); /* Couleur de coche */
            border-radius: 50%;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Assure que la case à cocher de consentement est colorée */
        input[type="checkbox"]:checked {
            background-color: var(--color-light-blue);
            border-color: var(--color-light-blue);
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 1. Barre de Navigation (Header) -->
    <header class="sticky top-0 z-50 bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <!-- Logo & Baseline -->
            <div class="flex flex-col items-start">
                <a href="#hero" class="text-3xl font-extrabold text-dark-blue leading-none">
                    Bâti <span class="text-light-blue">Rénov</span>
                </a>
                <span class="text-xs font-semibold text-gray-500 mt-1 uppercase tracking-wider hidden sm:block">
                    L’Excellence du Confort Habitat
                </span>
            </div>

            <!-- Menu de Navigation et CTA -->
            <nav class="flex items-center space-x-6">
                <ul class="hidden lg:flex space-x-6 text-gray-600 font-medium">
                    <li><a href="#prestations" class="hover:text-light-blue transition duration-150">Façade & ITE</a></li>
                    <li><a href="#realisations" class="hover:text-light-blue transition duration-150">Réalisations</a></li>
                    <li><a href="#aides" class="hover:text-light-blue transition duration-150">Aides & Subventions</a></li>
                    <li><a href="#contact" class="hover:text-light-blue transition duration-150">Contact</a></li>
                </ul>

                <!-- Bouton d'Action (visible sur toutes les tailles) -->
                <a href="#devis-form" class="cta-button px-5 py-2 text-sm font-bold text-white bg-light-blue rounded-full shadow-lg shadow-light-blue/40 hover:bg-light-blue transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-light-blue focus:ring-opacity-50">
                    Devis Gratuit
                </a>
                
                <!-- Menu Mobile (simplifié, les liens pointent vers les sections de la page) -->
                <button class="lg:hidden text-gray-700 hover:text-light-blue transition duration-150" aria-label="Menu">
                     <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </nav>
        </div>
    </header>

    <!-- 2. Section Héro (Hero) -->
    <main id="hero" class="hero-section text-white py-24 sm:py-32 lg:py-48">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <!-- Titre Principal : FOCUS FAÇADE -->
            <h1 class="text-4xl sm:text-6xl lg:text-7xl font-extrabold leading-tight mb-6">
                Rénovez votre Façade : <br class="hidden lg:inline"> Esthétique et Isolation au meilleur prix
            </h1>

            <!-- Sous-titre descriptif -->
            <p class="text-lg sm:text-xl text-indigo-100 max-w-4xl mx-auto mb-10">
                Spécialiste de la Rénovation de Façade et de l'Isolation Thermique par l'Extérieur (ITE) en Hauts-de-France.
                Fiabilité, garanties et accompagnement complet pour un habitat durable.
            </p>

            <!-- CTA Principal -->
            <a href="#devis-form" class="cta-button inline-block px-12 py-4 text-xl font-bold text-dark-blue bg-light-blue rounded-xl shadow-2xl shadow-light-blue/50 hover:bg-white">
                Demandez un devis gratuit pour ma façade
            </a>
        </div>
    </main>

    <!-- 3. Bande Avantages / Points Forts (3 Colonnes) -->
    <section class="py-12 bg-white shadow-xl -mt-16 relative z-10 rounded-t-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Avantage 1 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.001 12.001 0 002 15c0 3.36 1.83 6.353 4.588 8.024L12 22l5.412 1.024C20.17 21.353 22 18.36 22 15a12.001 12.001 0 00-3.382-8.016z"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">Audit et Devis Façade Gratuit</h3>
                    <p class="text-sm text-gray-600">Estimation précise sans engagement pour votre projet de ravalement ou d'ITE.</p>
                </div>

                <!-- Avantage 2 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 11h.01M12 14h.01M15 11h.01M15 14h.01M3 12c0-2.327 1.48-4.304 3.5-5.32A7.96 7.96 0 0112 4c2.83 0 5.42 1.12 7.37 2.98C21.52 7.696 23 9.673 23 12s-1.48 4.304-3.5 5.32A7.96 7.96 0 0112 20c-2.83 0-5.42-1.12-7.37-2.98C2.48 16.304 1 14.327 1 12z"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">RGE Qualibat & Garantie</h3>
                    <p class="text-sm text-gray-600">Travaux certifiés, matériaux de haute qualité, et garantie décennale.</p>
                </div>

                <!-- Avantage 3 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-2.31 0-4.183 1.942-4.183 4.333 0 2.39 1.873 4.333 4.183 4.333s4.183-1.942 4.183-4.333c0-2.391-1.873-4.333-4.183-4.333zm0 0V3m0 2v3m0 8v3m0-2v2m-5.45-6.52l-2.06-2.06m2.06 2.06L6.55 10.48m10.9-2.06l2.06 2.06m-2.06-2.06L17.45 10.48M6.55 17.45l-2.06 2.06m2.06-2.06L4.49 19.51m10.9 2.06l2.06-2.06m-2.06 2.06L17.45 19.51"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">Aides Financières ITE</h3>
                    <p class="text-sm text-gray-600">Nous maximisons les subventions (MaPrimeRénov', CEE) pour votre Isolation par l'Extérieur.</p>
                </div>
            </div>
        </div>
    </section>


    <!-- 4. Section Détail Prestations : Rénovation de Façade & ITE -->
    <section id="prestations" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-12">Notre Expertise : Rénovation de Façade et ITE</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16">
                <!-- Contenu Ravalement -->
                <div class="order-2 lg:order-1">
                    <h3 class="text-3xl font-bold text-dark-blue mb-4">1. Le Ravalement de Façade (Esthétique & Protection)</h3>
                    <p class="text-lg text-gray-700 mb-4">
                        Le ravalement est essentiel pour l'entretien et la longévité de votre bien. Nous traitons tous types de supports (crépi, peinture, brique) avec des produits hydrofuges et respirants. 
                    </p>
                    <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                        <li>Diagnostic complet et nettoyage (démoussage, décapage).</li>
                        <li>Réparation des fissures et traitement des remontées capillaires.</li>
                        <li>Application d'enduits et finitions personnalisées (couleurs, textures).</li>
                    </ul>
                    <a href="#devis-form" class="mt-6 inline-block text-light-blue font-bold hover:text-dark-blue border-b-2 border-light-blue/50 pb-1">
                        Demander un diagnostic gratuit
                    </a>
                </div>
                <!-- Image Ravalement -->
                <div class="order-1 lg:order-2 rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://placehold.co/700x450/1FA4E5/063A5C?text=Ravalement+Mural" alt="Image de Ravalement de Façade" class="w-full h-auto object-cover">
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Image ITE -->
                <div class="rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://placehold.co/700x450/063A5C/1FA4E5?text=Isolation+Thermique+Exterieur" alt="Image d'Isolation Thermique par l'Extérieur" class="w-full h-auto object-cover">
                </div>
                <!-- Contenu ITE -->
                <div>
                    <h3 class="text-3xl font-bold text-dark-blue mb-4">2. L'Isolation Thermique par l'Extérieur (ITE)</h3>
                    <p class="text-lg text-gray-700 mb-4">
                        Coupler votre ravalement à une ITE est la solution la plus performante. Elle élimine les ponts thermiques, réduit drastiquement votre consommation énergétique et valorise votre patrimoine. 
                    </p>
                    <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                        <li>Isolation sans perte d'espace intérieur.</li>
                        <li>Éligibilité maximale aux aides (MaPrimeRénov', CEE).</li>
                        <li>Amélioration du DPE (Diagnostic de Performance Énergétique).</li>
                    </ul>
                    <a href="#aides" class="mt-6 inline-block text-light-blue font-bold hover:text-dark-blue border-b-2 border-light-blue/50 pb-1">
                        Vérifier mon éligibilité aux aides
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. Section Simulateur d'Aides (Aides & Subventions) -->
    <section id="aides" class="py-20 bg-dark-blue text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-extrabold mb-4">Financez votre ITE avec MaPrimeRénov'</h2>
            <p class="text-xl text-indigo-100 max-w-3xl mx-auto mb-10">
                Grâce à notre certification RGE, nous gérons votre dossier de A à Z pour maximiser les subventions disponibles pour votre Isolation Thermique par l'Extérieur.
            </p>

            <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-8">
                 <!-- CTA pour la vérification d'éligibilité -->
                <a href="#devis-form" class="cta-button inline-block px-10 py-4 text-lg font-bold text-dark-blue bg-light-blue rounded-xl shadow-xl shadow-light-blue/50 hover:bg-white">
                    Vérifier mon éligibilité
                </a>
                <!-- CTA pour le simulateur (Placeholder pour lien Tally) -->
                <a href="#devis-form" class="cta-button inline-block px-10 py-4 text-lg font-bold text-white border-2 border-light-blue rounded-xl hover:bg-light-blue/20">
                    Accéder au Simulateur d'Aides
                </a>
            </div>
        </div>
    </section>

    <!-- 6. Section Réalisations (Avant / Après) -->
    <section id="realisations" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-4">Nos Rénovations de Façade en Hauts-de-France</h2>
            <p class="text-xl text-center text-gray-600 max-w-3xl mx-auto mb-16">La preuve par l'image de notre expertise en ravalement et ITE.</p>

            <!-- Mosaïque de Réalisations (Grille 2x2 ou 4 colonnes sur desktop) -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="overflow-hidden rounded-xl shadow-lg group">
                    <img src="https://placehold.co/600x600/1FA4E5/063A5C?text=AVANT+Fa%C3%A7ade" alt="Avant Rénovation Façade" class="realisation-card w-full transition duration-500 group-hover:opacity-75">
                </div>
                 <div class="overflow-hidden rounded-xl shadow-lg group">
                    <img src="https://placehold.co/600x600/063A5C/FFFFFF?text=APR%C3%88S+Fa%C3%A7ade" alt="Après Rénovation Façade" class="realisation-card w-full transition duration-500 group-hover:opacity-75">
                </div>
                <div class="overflow-hidden rounded-xl shadow-lg group">
                    <img src="https://placehold.co/600x600/063A5C/FFFFFF?text=AVANT+ITE" alt="Avant Travaux ITE" class="realisation-card w-full transition duration-500 group-hover:opacity-75">
                </div>
                <div class="overflow-hidden rounded-xl shadow-lg group">
                    <img src="https://placehold.co/600x600/1FA4E5/063A5C?text=APR%C3%88S+ITE" alt="Après Travaux ITE" class="realisation-card w-full transition duration-500 group-hover:opacity-75">
                </div>
                <!-- Ajoutez plus de cartes si nécessaire -->
            </div>
             <!-- CTA vers le formulaire après les réalisations -->
            <div class="text-center mt-12">
                <a href="#devis-form" class="cta-button inline-block px-10 py-3 text-lg font-bold text-white bg-dark-blue rounded-full shadow-lg hover:bg-dark-blue/90">
                    Demandez votre devis
                </a>
            </div>
        </div>
    </section>

    <!-- 7. Section Témoignages Clients -->
    <section class="py-20 bg-indigo-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-dark-blue mb-10">La Confiance de Nos Clients (Façade & ITE)</h2>
            <blockquote class="text-center bg-white p-8 rounded-xl shadow-2xl border-t-4 border-light-blue">
                <p class="text-xl font-medium italic text-gray-700 mb-6 leading-relaxed">
                    « L'équipe Bâti Rénov a transformé l'extérieur de ma maison. Grâce à l'ITE et le ravalement, elle est magnifique et j'ai gagné 4°C en hiver ! Le conseiller a été très efficace pour gérer MaPrimeRénov'. »
                </p>
                <footer class="text-gray-600 mt-4">
                    <div class="font-semibold text-lg text-dark-blue">Monsieur et Madame Dubois</div>
                    <div class="text-sm">Ravalement + ITE, Lille (59)</div>
                </footer>
            </blockquote>
        </div>
    </section>

    <!-- 8. Section Devis Gratuit (FORMULAIRE MULTI-ÉTAPES ADAPTÉ) -->
    <section id="devis-form" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

            <div class="bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 rounded-2xl shadow-xl">
    
                <div class="max-w-6xl mx-auto mb-12 text-center">
                    <div class="inline-block bg-gradient-to-r from-light-blue to-dark-blue px-6 py-2 rounded-full shadow-lg mb-4">
                        <span class="text-white font-semibold text-sm tracking-wide uppercase">Bâti Rénov - Devis Façade</span>
                    </div>
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
                        Obtenez Votre Estimation Personnalisée
                    </h1>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                        Répondez à 3 questions rapides pour être recontacté par un conseiller Façade.
                    </p>
                </div>

                <!-- Indicateur de progression -->
                <div class="max-w-5xl mx-auto mb-8">
                    <div class="flex items-center justify-between">
                        <div class="flex-1 flex items-center">
                            <div id="progress-1" class="w-10 h-10 rounded-full bg-light-blue text-white flex items-center justify-center font-bold">1</div>
                            <div class="flex-1 h-1 bg-gray-300 mx-2"><div id="line-1" class="h-full bg-light-blue transition-all duration-300" style="width: 0%"></div></div>
                        </div>
                        <div class="flex-1 flex items-center">
                            <div id="progress-2" class="w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-bold">2</div>
                        <div class="flex-1 h-1 bg-gray-300 mx-2"><div id="line-2" class="h-full bg-light-blue transition-all duration-300" style="width: 0%"></div></div>
                        </div>
                        <div>
                            <div id="progress-3" class="w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-bold">3</div>
                    </div>
                    </div>
                    <div class="flex justify-between mt-2 text-sm text-gray-600">
                        <span class="flex-1 text-center">Projet</span>
                        <span class="flex-1 text-center">Localisation</span>
                        <span class="flex-1 text-center">Contact</span>
                    </div>
                </div>

                <div class="max-w-5xl mx-auto">
                    <form id="single-page-form"> 
            
                        <!-- PAGE 1 -->
                        <div class="page active" id="page-1">
                            <div class="rounded-2xl shadow-2xl p-8 transform hover:scale-[1.01] transition-all" style="background-color: rgba(31, 164, 229, 0.1);">
                                <div class="flex items-center mb-6">
                                    <div class="w-12 h-12 rounded-xl flex items-center justify-center mr-4" style="background-color: rgba(31, 164, 229, 0.2);">
                                        <svg class="w-7 h-7 text-light-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <h2 class="text-3xl font-bold text-gray-800">Détails de Votre Projet</h2>
                                        <p class="text-gray-600 text-sm">Parlez-nous de vos travaux de rénovation</p>
                                    </div>
                                </div>
                    
                                <div class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-semibold mb-2 text-gray-700">Surface approximative (m²) *</label>
                                            <input type="number" name="surface" required min="10" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="150">
                                        </div>
                            
                                        <div>
                                            <label class="block text-sm font-semibold mb-2 text-gray-700">Délai souhaité *</label>
                                            <select name="Délai_souhaité" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none bg-white text-gray-900">
                                                <option value="" disabled selected>Sélectionner</option>
                                                <option value="immediat">Dès que possible</option>
                                                <option value="3mois">Dans les 3 mois</option>
                                                <option value="6mois">Entre 3 et 6 mois</option>
                                                <option value="renseignement">Simple demande de renseignement</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="bg-white rounded-xl p-6 border border-gray-200">
                                        <label class="block text-sm font-bold mb-4 text-gray-800">Support actuel de votre façade *</label>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <label class="flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="Support_actuel" value="crepi_ancien" required class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Crêpi ou Enduit ancien</span>
                                            </label>
                                
                                            <label class="flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="Support_actuel" value="peinture" class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Peinture</span>
                                            </label>
                                
                                            <label class="flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="Support_actuel" value="neuf" class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Support neuf (parpaing, brique)</span>
                                            </label>
                                
                                            <label class="flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="Support_actuel" value="autre" class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Autre / Non défini</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="bg-white rounded-xl p-6 border border-gray-200">
                                        <label class="block text-sm font-bold mb-3 text-gray-800">
                                            Isolation Thermique Extérieure (ITE) *
                                        </label>
                                        <p class="text-sm text-gray-600 mb-4">Souhaitez-vous coupler ce projet avec une ITE ?</p>
                                        <div class="flex flex-wrap gap-3">
                                            <label class="flex items-center px-6 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="ITE_intéret" value="oui" required class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Oui</span>
                                            </label>
                                
                                            <label class="flex items-center px-6 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="ITE_intéret" value="non" class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Non</span>
                                            </label>
                                
                                            <label class="flex items-center px-6 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-light-blue/10 hover:border-light-blue transition-all">
                                                <input type="radio" name="ITE_intéret" value="information" class="radio-custom mr-3 text-light-blue">
                                                <span class="font-medium text-gray-700">Je souhaite des informations</span>
                                            </label>
                                        </div>
                                    </div>

                                <!-- NOUVELLE SECTION GEMINI API -->
                                <div id="ai-advice-container" class="mt-6">
                                    <h4 class="text-xl font-bold text-dark-blue mb-4 flex items-center">
                                        Conseil Expert Façade <span class="text-light-blue ml-2">✨</span>
                                    </h4>
                                    <div id="ai-result" class="p-4 bg-white border border-dashed border-light-blue rounded-xl text-gray-700 text-sm mb-4 min-h-[50px] flex items-center justify-center text-center">
                                        Cliquez sur le bouton ci-dessous pour obtenir une analyse rapide de votre projet (surface, support, ITE).
                                    </div>
                                    <button type="button" id="generate-advice-btn" onclick="generateAdvice()" class="w-full px-6 py-3 text-sm font-bold text-white bg-light-blue rounded-lg shadow-md hover:bg-dark-blue transition duration-200 flex items-center justify-center disabled:opacity-50">
                                        Obtenir un premier avis expert ✨
                                    </button>
                                </div>
                                
                                <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Informations complémentaires</label>
                                        <textarea rows="4" name="notes" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none resize-none text-gray-900" placeholder="Décrivez votre projet, le style de pierre souhaité, ou toute autre information utile..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-end mt-8">
                                <button type="button" onclick="nextPage(2)" class="bg-gradient-to-r from-light-blue to-dark-blue text-white font-bold py-4 px-12 rounded-xl uppercase tracking-wider transition-all transform hover:scale-105 shadow-2xl">
                                    Suivant
                                    <svg class="w-5 h-5 inline ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- PAGE 2 -->
                        <div class="page" id="page-2">
                            <div class="rounded-2xl shadow-2xl p-8 transform hover:scale-[1.01] transition-all" style="background-color: #f7f9fc;">
                                <div class="flex items-center mb-6">
                                    <div class="w-12 h-12 bg-gray-200 rounded-xl flex items-center justify-center mr-4">
                                        <svg class="w-7 h-7 text-dark-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <h2 class="text-3xl font-bold text-gray-800">Localisation du Projet</h2>
                                        <p class="text-gray-600 text-sm">Où se trouve votre bien ? (Hauts-de-France uniquement)</p>
                                    </div>
                                </div>
                    
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Code Postal *</label>
                                        <input type="text" name="Code_Postal" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="59140">
                                        <p class="text-xs text-gray-500 mt-1">Nous intervenons dans les Hauts-de-France.</p>
                                    </div>
                        
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Ville *</label>
                                        <input type="text" name="Ville" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="Dunkerque">
                                    </div>
                        
                                    <div class="md:col-span-2">
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Adresse du chantier *</label>
                                        <input type="text" name="Adresse" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="12 rue de la République">
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between mt-8">
                                <button type="button" onclick="prevPage(1)" class="bg-gray-500 text-white font-bold py-4 px-12 rounded-xl uppercase tracking-wider transition-all transform hover:scale-105 shadow-2xl">
                                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                    </svg>
                                    Précédent
                                </button>
                                <button type="button" onclick="nextPage(3)" class="bg-gradient-to-r from-light-blue to-dark-blue text-white font-bold py-4 px-12 rounded-xl uppercase tracking-wider transition-all transform hover:scale-105 shadow-2xl">
                                    Suivant
                                    <svg class="w-5 h-5 inline ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- PAGE 3 -->
                        <div class="page" id="page-3">
                            <div class="rounded-2xl shadow-2xl p-8 transform hover:scale-[1.01] transition-all" style="background-color: #f5f5f5;">
                                <div class="flex items-center mb-6">
                                    <div class="w-12 h-12 bg-gray-200 rounded-xl flex items-center justify-center mr-4">
                                        <svg class="w-7 h-7 text-dark-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                        </svg>
                                    </div>
                                    <div>
                                        <h2 class="text-3xl font-bold text-gray-800">Vos Coordonnées</h2>
                                        <p class="text-gray-600 text-sm">Informations de contact pour Bâti Rénov</p>
                                    </div>
                                </div>
                    
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Civilité *</label>
                                        <select name="Civilité" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none bg-white text-gray-900">
                                            <option value="" disabled selected>Sélectionner</option>
                                            <option value="Mme">Madame</option>
                                            <option value="M">Monsieur</option>
                                        </select>
                                    </div>
                        
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Prénom *</label>
                                        <input type="text" name="Prénom" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="Jean">
                                    </div>
                        
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Nom *</label>
                                        <input type="text" name="Nom" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="Dupont">
                                    </div>
                        
                                    <div>
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">Téléphone *</label>
                                        <input type="tel" name="Téléphone" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="06 12 34 56 78">
                                    </div>
                        
                                    <div class="md:col-span-2">
                                        <label class="block text-sm font-semibold mb-2 text-gray-700">E-mail *</label>
                                        <input type="email" name="email" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-light-blue focus:ring-2 focus:ring-light-blue/50 transition-all outline-none text-gray-900" placeholder="jean.dupont@example.com">
                                    </div>
                                </div>

                                <div class="mt-8 pt-6 border-t-2 border-gray-300">
                                    <label class="flex items-start cursor-pointer group">
                                        <!-- Correction : Ajout de la classe text-light-blue pour la couleur au check -->
                                    <input type="checkbox" name="consent" required class="mt-1 w-5 h-5 border-2 border-gray-400 rounded focus:ring-2 focus:ring-light-blue/50 text-light-blue">
                                        <span class="ml-3 text-sm text-gray-700">
                                            J'accepte d'être recontacté(e) par <strong>Bâti Rénov</strong> pour mon projet. 
                                        </span>
                                    </label>

                                    <div class="bg-white rounded-xl p-6 text-center mt-6 border border-gray-200">
                                        <div class="flex items-center justify-center space-x-2 mb-2">
                                            <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                                            </svg>
                                            <span class="text-sm text-gray-600">Connexion sécurisée - Vos données restent confidentielles</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between mt-8">
                                <button type="button" onclick="prevPage(2)" class="bg-gray-500 text-white font-bold py-4 px-12 rounded-xl uppercase tracking-wider transition-all transform hover:scale-105 shadow-2xl">
                                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                    </svg>
                                    Précédent
                                </button>
                                <button type="submit" id="submit-button" class="bg-gradient-to-r from-dark-blue to-dark-blue/90 text-white font-bold py-4 px-12 rounded-xl uppercase tracking-wider transition-all transform hover:scale-105 shadow-2xl hover:shadow-3xl">
                                    <span class="flex items-center justify-center">
                                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                        Recevoir Mon Devis Gratuit
                                    </span>
                                </button>
                            </div>
                        </div>

                    </form>
                </div>

                <div class="max-w-5xl mx-auto mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-gradient-to-br from-light-blue to-dark-blue text-white rounded-xl p-3 text-center shadow-2xl transform hover:scale-105 transition-all">
                        <div class="text-2xl font-bold mb-1">Bâti Rénov</div>
                        <div class="text-white text-sm">Votre expert local</div>
                    </div>
                    <div class="bg-gradient-to-br from-light-blue to-light-blue/80 text-white rounded-xl p-3 text-center shadow-2xl transform hover:scale-105 transition-all">
                        <div class="text-2xl font-bold mb-1">100% RGE</div>
                        <div class="text-white text-sm">Aides financières garanties</div>
                    </div>
                    <div class="bg-gradient-to-br from-dark-blue to-dark-blue/80 text-white rounded-xl p-3 text-center shadow-2xl transform hover:scale-105 transition-all">
                        <div class="text-2xl font-bold mb-1">Garantie</div>
                        <div class="text-gray-200 text-sm">Décennale incluse</div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- 9. À Propos / Notre Entreprise -->
    <section id="a-propos" class="py-20 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-16">Bâti Rénov : Expert en Façade et ITE</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Notre Expertise, Votre Sérénité</h3>
                    <p class="text-gray-700 mb-6">
                        Fondée il y a plus de 10 ans, **Bâti Rénov** s'est spécialisée dans la rénovation complète de façades et l'Isolation Thermique par l'Extérieur (ITE) dans toute la région Hauts-de-France. Notre mission est de vous garantir un extérieur à la fois esthétique, durable et hautement performant sur le plan énergétique.
                    </p>
                    <p class="text-gray-700 mb-6 font-semibold">
                        <span class="text-dark-blue">Nos valeurs :</span> Fiabilité, Clarté et Proximité. Nous vous assignons un conseiller dédié du premier audit gratuit jusqu'à la fin de la garantie décennale.
                    </p>

                    <h3 class="text-2xl font-bold text-light-blue mb-4">Certifications et Zone d'Intervention</h3>
                    <ul class="text-gray-700 space-y-2 list-none p-0">
                        <li class="flex items-center">
                             <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            **Certifié RGE Qualibat** : Obligatoire pour obtenir les aides ITE.
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            **Zone Couverte** : Toute la région Hauts-de-France (Lille, Amiens, Arras, etc.).
                        </li>
                        <li class="flex items-center">
                             <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            **Garantie Décennale** : Protection complète de vos travaux de ravalement.
                        </li>
                    </ul>
                </div>
                <!-- Image de l'équipe ou d'un chantier -->
                <div class="rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://placehold.co/700x450/063A5C/1FA4E5?text=Expert+R%C3%A9novation+Fa%C3%A7ade" alt="L'équipe Bâti Rénov" class="w-full h-auto object-cover">
                </div>
            </div>
        </div>
    </section>

    <!-- 10. Contact & Coordonnées (Le formulaire de contact a été conservé ici) -->
    <section id="contact" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-4">Contactez Nos Experts Locaux</h2>
            <p class="text-xl text-center text-gray-600 max-w-3xl mx-auto mb-16">Nous sommes disponibles pour répondre à toutes vos questions du lundi au vendredi.</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Informations de Contact -->
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Informations Utiles</h3>
                    <div class="space-y-4 text-gray-700">
                        <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.5l1.3 2.6L12 11l2.2-4.4L15.5 3H19a2 2 0 012 2v14a2 2 0 01-2 2h-3.5l-1.3-2.6L12 13l-2.2 4.4L8.5 21H5a2 2 0 01-2-2V5z"></path></svg>
                            **Téléphone :** <a href="tel:+33123456789" class="hover:text-light-blue transition duration-150 ml-2">03 XX XX XX XX</a>
                        </p>
                         <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            **Horaires :** Lun - Ven, 9h00 - 18h00
                        </p>
                        <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.85-5.23A2 2 0 0114 4.54V19.46a2 2 0 01-3.15 1.77L3 17V8zM19 8v9l-7 4V4l7 4z"></path></svg>
                            **Siège Social :** Hauts-de-France
                        </p>
                    </div>

                    <h3 class="text-2xl font-bold text-light-blue mt-8 mb-4">Formulaire de Contact</h3>
                    <!-- Formulaire de Contact simple -->
                    <form action="#" method="POST" class="space-y-4">
                        <input type="text" name="name" placeholder="Votre Nom" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue">
                        <input type="email" name="email" placeholder="Votre Email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue">
                        <textarea name="message" rows="4" placeholder="Votre Message (sujet + détails)" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue"></textarea>
                        <button type="submit" class="cta-button w-full px-6 py-3 text-lg font-bold text-white bg-light-blue rounded-lg shadow-md hover:bg-light-blue/90">
                            Envoyer le message
                        </button>
                    </form>
                </div>

                <!-- Google Maps (Placeholder) -->
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Notre Zone d'Intervention</h3>
                    <div class="h-96 rounded-xl overflow-hidden shadow-2xl border-4 border-gray-100">
                        <!-- Placeholder pour la carte Google Maps -->
                        <img src="https://placehold.co/700x400/CCCCCC/063A5C?text=Google+Maps+Zone+Hauts-de-France" alt="Carte Google Maps Hauts-de-France" class="w-full h-full object-cover">
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- 11. Pied de Page (Footer) -->
    <footer class="bg-dark-blue text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 border-b border-gray-700 pb-8 mb-8">
                <!-- Colonne 1 : Société -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Bâti Rénov</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#a-propos" class="hover:text-light-blue transition duration-150">Notre Entreprise</a></li>
                        <li><a href="#realisations" class="hover:text-light-blue transition duration-150">Nos Réalisations</a></li>
                        <li><a href="#contact" class="hover:text-light-blue transition duration-150">Recrutement</a></li>
                        <li><a href="#" class="hover:text-light-blue transition duration-150">Espace Presse</a></li>
                    </ul>
                </div>

                <!-- Colonne 2 : Service -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Nos Services</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#prestations" class="hover:text-light-blue transition duration-150">Rénovation de Façade</a></li>
                        <li><a href="#prestations" class="hover:text-light-blue transition duration-150">ITE (Isolation Thermique)</a></li>
                        <li><a href="#aides" class="hover:text-light-blue transition duration-150">Gestion des Aides</a></li>
                        <li><a href="#devis-form" class="hover:text-light-blue transition duration-150">Devis Gratuit</a></li>
                    </ul>
                </div>

                <!-- Colonne 3 : Support & Légal -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Informations</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-light-blue transition duration-150">Mentions Légales</a></li>
                        <li><a href="#" class="hover:text-light-blue transition duration-150">Conditions d'utilisation</a></li>
                        <li><a href="#" class="hover:text-light-blue transition duration-150">Politique de confidentialité</a></li>
                        <li><a href="#contact" class="hover:text-light-blue transition duration-150">Zone d'intervention</a></li>
                    </ul>
                </div>

                <!-- Colonne 4 : Coordonnées -->
                 <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Contact</h4>
                    <p class="text-sm text-gray-300 mb-2">Tél : 03 XX XX XX XX</p>
                    <p class="text-sm text-gray-300">Hauts-de-France</p>
                    <div class="mt-4">
                        <img src="https://placehold.co/100x40/1FA4E5/063A5C?text=Certificat+RGE" alt="Certificat de Qualité RGE" class="rounded-md">
                    </div>
                </div>
            </div>

            <div class="text-center text-sm text-gray-500 mt-8">
                &copy; 2025 Bâti Rénov. Tous droits réservés. | Site Optimisé pour la Rénovation de Façade.
            </div>
        </div>
    </footer>

    <!-- SCRIPT DU FORMULAIRE MULTI-ÉTAPES AVEC INTÉGRATION GEMINI -->
    <script>
        const FORM = document.getElementById('single-page-form');
        // ATTENTION : Ce script est paramétré pour envoyer les données à un Google Sheet via Google Apps Script (SCRIPT_URL).
        // Vous devez remplacer cette URL par l'URL de votre propre script Google Apps pour que l'envoi fonctionne.
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzt5km15di-5vsL3__Ma3YfZHn8aRiqFOJqW0UJqrhJw-BvoHsDlPg0yujHM5tsuEhwXw/exec';
        
        // --- LLM API Configuration ---
        const API_URL_BASE = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent';
        const GEMINI_API_KEY = ""; // Canvas will provide this

        // Utility for exponential backoff
        async function fetchWithRetry(url, options, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.status === 429) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    }
                    if (!response.ok) {
                        const errorBody = await response.text();
                        throw new Error(`API call failed with status ${response.status}: ${errorBody}`);
                    }
                    return response;
                } catch (error) {
                    if (i === retries - 1) throw error;
                }
            }
        }
        
        // Main function to generate advice using Gemini API
        async function generateAdvice() {
            const surfaceInput = document.querySelector('input[name="surface"]');
            const supportRadio = document.querySelector('input[name="Support_actuel"]:checked');
            const iteRadio = document.querySelector('input[name="ITE_intéret"]:checked');
            
            const surface = surfaceInput ? surfaceInput.value : '';
            const support = supportRadio ? supportRadio.value : '';
            const ite = iteRadio ? iteRadio.value : '';
            
            const resultDiv = document.getElementById('ai-result');
            const button = document.getElementById('generate-advice-btn');
            
            if (!surface || !supportRadio || !iteRadio) {
                resultDiv.innerHTML = '<span class="text-red-500">Veuillez renseigner la Surface, le Support actuel et l\'intérêt pour l\'ITE.</span>';
                surfaceInput?.reportValidity();
                return;
            }

            // Map French values to better English descriptions for the model prompt
            const supportMap = {
                'crepi_ancien': 'Old roughcast or plaster',
                'peinture': 'Paint',
                'neuf': 'New substrate (cinder block, brick)',
                'autre': 'Other / Undefined'
            };

            const iteMap = {
                'oui': 'Yes, client is interested in ITE',
                'non': 'No, client is NOT interested in ITE',
                'information': 'Client only wants information about ITE'
            };

            const userQuery = `Analyze a facade renovation project. Surface area: ${surface} m². Current support: ${supportMap[support]}. ITE interest: ${iteMap[ite]}. 
            Provide a CONCISE, 3-sentence analysis: 1. State the project challenge (based on the support and area). 2. Provide a brief, encouraging note on the ITE interest. 3. Suggest a relevant material or step to consider (e.g., specific insulation type or necessity for detailed diagnosis). Respond entirely in French.`;

            const systemPrompt = "You are a specialized RGE (Reconnu Garant de l'Environnement) technical advisor for an energy renovation company in France. Your tone is professional, technical, concise, and conversion-oriented.";

            resultDiv.innerHTML = 'Analyse en cours... <span class="animate-spin inline-block">⏳</span>';
            button.disabled = true;
            button.innerHTML = 'Analyse en cours...';

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                tools: [{ "google_search": {} }],
                config: {
                    temperature: 0.5,
                    maxOutputTokens: 200 // Keep the response short
                }
            };

            try {
                const response = await fetchWithRetry(`${API_URL_BASE}?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Désolé, une erreur est survenue lors de l'analyse.";
                
                resultDiv.innerHTML = `<span class="font-semibold text-dark-blue">AVIS EXPERT :</span> ${text}`;

            } catch (error) {
                console.error('Gemini API Error:', error);
                resultDiv.innerHTML = `<span class="text-red-500">Erreur de connexion. Veuillez réessayer.</span>`;
            } finally {
                button.disabled = false;
                button.innerHTML = 'Obtenir un premier avis expert ✨';
            }
        }
        window.generateAdvice = generateAdvice; // Make function globally accessible
        // --- END LLM API Configuration ---


        function updateProgress(page) {
            // Mise à jour de la barre de progression pour correspondre au thème Bâti Rénov
            for (let i = 1; i <= 3; i++) {
                const circle = document.getElementById(`progress-${i}`);
                const line = document.getElementById(`line-${i}`);
                
                // Réinitialisation des classes
                circle.className = 'w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-bold transition-colors duration-300';
                if (line) line.style.width = '0%';
                
                if (i <= page) {
                    // Coche ou Page actuelle
                    circle.classList.remove('bg-gray-300', 'text-gray-600');
                    circle.classList.add('bg-light-blue', 'text-white');
                    if (i < page && line) {
                        // Ligne de progression complétée
                        line.style.width = '100%';
                    }
                }
            }
        }

        function validateCurrentPage(currentPage) {
            const page = document.getElementById(`page-${currentPage}`);
            // Sélectionne tous les champs requis
            const inputs = page.querySelectorAll('input[required], select[required], textarea[required]');
            
            for (let input of inputs) {
                // Pour les radios/checkboxes, la validation doit être spécifique car .checkValidity() peut échouer pour un groupe entier
                if ((input.type === 'radio' || input.type === 'checkbox') && !input.checked) {
                    // Pour les groupes de radios, on vérifie si au moins un est coché (c'est ce que checkValidity fait normalement si l'attribut required est sur au moins un élément du groupe)
                    const name = input.name;
                    if (name) {
                        const checked = page.querySelector(`input[name="${name}"]:checked`);
                        if (!checked) {
                            // Si aucun n'est coché, on force la validation du premier pour afficher l'erreur
                            input.reportValidity();
                            return false;
                        }
                    }
                } else if (!input.checkValidity()) {
                    input.reportValidity();
                    return false;
                }
            }
            return true;
        }

        function nextPage(pageNum) {
            const currentPage = pageNum - 1;
            
            if (!validateCurrentPage(currentPage)) {
                return;
            }
            
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            document.getElementById(`page-${pageNum}`).classList.add('active');
            updateProgress(pageNum);
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' }); // Scroll vers le haut du formulaire
        }

        function prevPage(pageNum) {
            const currentPage = pageNum + 1;
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            document.getElementById(`page-${pageNum}`).classList.add('active');
            updateProgress(pageNum);
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });
        }

        FORM.addEventListener('submit', function(e) {
            e.preventDefault(); 

            if (!validateCurrentPage(3)) {
                return;
            }

            const button = document.getElementById('submit-button');
            const originalButtonContent = button.innerHTML;
            button.disabled = true;
            button.innerHTML = 'Envoi en cours...';

            const formData = new FormData(FORM);

            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            })
            .then(response => {
                // Remplacement d'alert par un message box personnalisé ou un message de succès
                console.log('Formulaire de devis envoyé avec succès. Vérifiez votre Google Sheet !');
                
                // Afficher un message de succès simple dans le formulaire (ou modal)
                document.getElementById('page-3').innerHTML = `
                    <div class="text-center p-12 rounded-xl shadow-2xl" style="background-color: rgba(31, 164, 229, 0.1);">
                        <svg class="w-16 h-16 text-light-blue mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <h3 class="text-3xl font-bold text-dark-blue mb-2">Demande Envoyée !</h3>
                        <p class="text-xl text-gray-600">Votre demande de devis a été transmise à Bâti Rénov.</p>
                        <p class="mt-4 text-lg font-medium text-dark-blue">Un conseiller vous recontactera sous 24h.</p>
                        <button type="button" onclick="window.location.reload()" class="mt-8 bg-light-blue text-white font-bold py-3 px-8 rounded-xl hover:bg-dark-blue transition-all">
                            Retour à l'accueil
                        </button>
                    </div>
                `;
                
            })
            .catch(error => {
                console.error('Erreur lors de l\'envoi du formulaire:', error);
                // Si l'envoi a échoué, on remet le bouton.
                const failureMessage = 'Une erreur est survenue lors de l\'envoi. Veuillez vérifier votre connexion et réessayer.';
                document.getElementById('page-3').innerHTML = `
                    <div class="text-center p-12 rounded-xl shadow-2xl" style="background-color: rgba(255, 99, 71, 0.1);">
                        <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3.001L13.732 4.99a3.001 3.001 0 00-5.464 0L2.268 16.001c-.77 1.334.192 3.001 1.732 3.001z"></path></svg>
                        <h3 class="text-3xl font-bold text-red-700 mb-2">Erreur d'envoi !</h3>
                        <p class="text-xl text-gray-600">${failureMessage}</p>
                        <button type="button" onclick="window.location.reload()" class="mt-8 bg-red-500 text-white font-bold py-3 px-8 rounded-xl hover:bg-red-600 transition-all">
                            Recommencer
                        </button>
                    </div>
                `;

            })
            .finally(() => {
                // Si le succès a été affiché, le contenu de page-3 a changé, on ne le remet pas.
                if (document.getElementById('page-3').querySelector('h3')?.textContent !== 'Demande Envoyée !') {
                    button.disabled = false;
                    button.innerHTML = originalButtonContent;
                }
            });
        });

        // Initialiser la progression au chargement
        window.onload = function() {
            updateProgress(1);
        }
    </script>

</body>
</html>
