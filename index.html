<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√¢ti R√©nov - L'Excellence du Confort Habitat</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Configuration des couleurs et de la police */
        :root {
            --color-dark-blue: #063A5C; /* Bleu fonc√© */
            --color-light-blue: #1FA4E5; /* Bleu clair */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc; /* Arri√®re-plan tr√®s clair pour le style clean */
        }
        .bg-dark-blue { background-color: var(--color-dark-blue); }
        .text-dark-blue { color: var(--color-dark-blue); }
        .bg-light-blue { background-color: var(--color-light-blue); }
        .text-light-blue { color: var(--color-light-blue); }
        .border-light-blue { border-color: var(--color-light-blue); }
        .hero-section {
            background-color: var(--color-dark-blue);
            background-image: linear-gradient(rgba(6, 58, 92, 0.65), rgba(6, 58, 92, 0.75)), url('https://nsm09.casimages.com/img/2025/11/25//25112506034526865018676507.png');
            background-size: cover;
            background-position: center;
        }
        /* Style pour les cartes avant/apr√®s pour un effet mosa√Øque */
        .realisation-card {
            aspect-ratio: 1 / 1;
            object-fit: cover;
        }
        .cta-button {
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(31, 164, 229, 0.5);
        }

        /* --- STYLES DU FORMULAIRE MULTI-√âTAPES ADAPT√âS --- */
        .radio-custom {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
        }
        .radio-custom:checked {
            border-color: var(--color-light-blue); /* Couleur principale B√¢ti R√©nov */
            background: white;
        }
        .radio-custom:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: var(--color-light-blue); /* Couleur de coche */
            border-radius: 50%;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Assure que la case √† cocher de consentement est color√©e */
        input[type="checkbox"]:checked {
            background-color: var(--color-light-blue);
            border-color: var(--color-light-blue);
        }
        <style>
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 1; transform: translateY(0); }
  to   { opacity: 0; transform: translateY(-10px); }
}

.menu-open {
  animation: slideDown 0.25s ease-out forwards;
}

.menu-close {
  animation: slideUp 0.25s ease-in forwards;
}
</style>

    </style>
</head>
<body class="text-gray-800">

 <!-- 1. Barre de Navigation (Header) -->
<header class="sticky top-0 z-50 bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
        
        <!-- Logo & Baseline -->
        <div class="flex flex-col items-start">
            <a href="#hero" class="text-3xl font-extrabold text-dark-blue leading-none">
                B√¢ti <span class="text-light-blue">R√©nov</span>
            </a>
            <span class="text-xs font-semibold text-gray-500 mt-1 uppercase tracking-wider hidden sm:block">
                L‚ÄôExcellence du Confort Habitat
            </span>
        </div>

        <!-- Menu Desktop + CTA -->
        <nav class="flex items-center space-x-6">
            <!-- Menu Desktop -->
            <ul class="hidden lg:flex space-x-6 text-gray-600 font-medium">
                <li><a href="#prestations" class="hover:text-light-blue transition">Fa√ßade & ITE</a></li>
                <li><a href="#realisations" class="hover:text-light-blue transition">R√©alisations</a></li>
                <li><a href="#aides" class="hover:text-light-blue transition">Aides & Subventions</a></li>
                <li><a href="#contact" class="hover:text-light-blue transition">Contact</a></li>
            </ul>

            <!-- CTA -->
            <a href="#devis-form"
               class="cta-button px-5 py-2 text-sm font-bold text-white bg-light-blue rounded-full shadow-lg shadow-light-blue/40 hover:bg-light-blue transition transform hover:scale-105">
                Devis Gratuit
            </a>

            <!-- Bouton Menu Mobile -->
            <button id="btnMenuMobile"
                class="lg:hidden text-gray-700 hover:text-light-blue transition"
                aria-label="Menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </nav>
    </div>

    <!-- Menu Mobile d√©roulant -->
<div id="menuMobile"
     class="hidden flex flex-col bg-white shadow-xl border-t border-gray-200 px-6 py-4 space-y-4 lg:hidden opacity-0">
         
    <a href="#prestations" class="text-gray-700 font-semibold hover:text-light-blue">Fa√ßade & ITE</a>
    <a href="#realisations" class="text-gray-700 font-semibold hover:text-light-blue">R√©alisations</a>
    <a href="#aides" class="text-gray-700 font-semibold hover:text-light-blue">Aides & Subventions</a>
    <a href="#contact" class="text-gray-700 font-semibold hover:text-light-blue">Contact</a>

    <a href="#devis-form"
       class="mt-2 text-center px-5 py-2 text-sm font-bold text-white bg-light-blue rounded-full shadow-md hover:bg-light-blue transition">
       Devis Gratuit
    </a>

</div>

<header>
</header>

<main id="hero" class="hero-section text-white py-24 sm:py-32 lg:py-48">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <div class="grid md:grid-cols-1 lg:grid-cols-12 gap-10 items-center">

            <div class="lg:col-span-7 text-center lg:text-left mb-10 lg:mb-0">
                <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-tight mb-6">
                    R√©novez votre Fa√ßade : <br class="hidden lg:inline"> Esth√©tique et Isolation au meilleur prix
                </h1>

                <p class="text-lg sm:text-xl text-white-100 max-w-4xl lg:max-w-none mx-auto mb-10">
                    Sp√©cialiste de la R√©novation de Fa√ßade et de l'Isolation Thermique par l'Ext√©rieur (ITE) en Hauts-de-France.
                    Fiabilit√©, garanties et accompagnement complet pour un habitat durable.
                </p>

                <a href="#devis-form" class="cta-button inline-block px-12 py-4 text-xl font-bold text-dark-blue bg-light-blue rounded-xl shadow-2xl shadow-light-blue/50 hover:bg-white transition-colors lg:hidden">
                    Demandez un devis gratuit pour ma fa√ßade
                </a>
            </div>

            <div id="devis-form" class="lg:col-span-5 w-full">
                <section id="devis-section-hero" class="bg-transparent py-0"> 
                    <div class="max-w-full">
                        <div class="bg-white p-6 md:p-8 rounded-3xl shadow-2xl border border-gray-100">
                            <h3 class="text-2xl font-bold text-dark-blue mb-6 text-center">
                                ‚è≥ Recevez votre Devis en 3 Clics !
                            </h3>
                            <div id="form-wrapper">
                                <div class="mb-8">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center flex-1">
                                            <div class="relative">
                                                <svg class="w-12 h-12 transform -rotate-90">
                                                    <circle cx="24" cy="24" r="20" stroke="#e5e7eb" stroke-width="3" fill="none"/>
                                                    <circle id="circle-1" class="progress-circle" cx="24" cy="24" r="20" stroke="url(#gradient1)" stroke-width="3" fill="none" stroke-linecap="round"/>
                                                </svg>
                                                <div class="absolute inset-0 flex items-center justify-center">
                                                    <span id="num-1" class="text-md font-bold text-light-blue">1</span>
                                                </div>
                                            </div>
                                            <div class="h-2 bg-gray-200 flex-1 mx-2 rounded-full overflow-hidden">
                                                <div id="line-1" class="h-full bg-light-blue w-0 transition-all duration-700 rounded-full"></div>
                                            </div>
                                        </div>
                                        <div class="flex items-center flex-1">
                                            <div class="relative">
                                                <svg class="w-12 h-12 transform -rotate-90">
                                                    <circle cx="24" cy="24" r="20" stroke="#e5e7eb" stroke-width="3" fill="none"/>
                                                    <circle id="circle-2" class="progress-circle" cx="24" cy="24" r="20" stroke="url(#gradient2)" stroke-width="3" fill="none" stroke-linecap="round"/>
                                                </svg>
                                                <div class="absolute inset-0 flex items-center justify-center">
                                                    <span id="num-2" class="text-md font-bold text-gray-400">2</span>
                                                </div>
                                            </div>
                                            <div class="h-2 bg-gray-200 flex-1 mx-2 rounded-full overflow-hidden">
                                                <div id="line-2" class="h-full bg-light-blue w-0 transition-all duration-700 rounded-full"></div>
                                            </div>
                                        </div>
                                        <div class="relative">
                                            <svg class="w-12 h-12 transform -rotate-90">
                                                <circle cx="24" cy="24" r="20" stroke="#e5e7eb" stroke-width="3" fill="none"/>
                                                <circle id="circle-3" class="progress-circle" cx="24" cy="24" r="20" stroke="url(#gradient3)" stroke-width="3" fill="none" stroke-linecap="round"/>
                                            </svg>
                                            <div class="absolute inset-0 flex items-center justify-center">
                                                <span id="num-3" class="text-md font-bold text-gray-400">3</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-3 gap-1">
                                        <span class="text-center text-xs font-semibold text-dark-blue">üìã Projet</span>
                                        <span class="text-center text-xs font-semibold text-gray-600">üå°Ô∏è Isolation</span>
                                        <span class="text-center text-xs font-semibold text-gray-600">üè† Localisation & Contact</span>
                                    </div>
                                </div>
                                <form id="modern-form">
                                    <div id="error-message" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 font-bold" role="alert">
                                        Une erreur est survenue lors de l'envoi. Veuillez r√©essayer.
                                    </div>

                                    <div class="page active" id="page-1">
                                        <div class="space-y-4"> 
                                            <div class="text-center mb-6">
                                                <h2 class="text-xl font-bold text-gray-900 mb-1">1. Quel est votre projet ?</h2>
                                                <p class="text-sm text-gray-600">Dites-nous en plus sur votre fa√ßade</p>
                                            </div>

                                            <div class="grid md:grid-cols-2 gap-4">
                                                <div class="group">
                                                    <label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Surface (m¬≤) *</label>
                                                    <input type="number" name="surface" required min="10" placeholder="Ex: 150" class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900">
                                                </div>
                                                <div class="group">
                                                    <label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">D√©lai souhait√© *</label>
                                                    <select name="D√©lai_souhait√©" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold bg-white text-gray-900">
                                                        <option value="" disabled selected>Choisissez une option</option>
                                                        <option value="immediat">üöÄ D√®s que possible</option>
                                                        <option value="3mois">‚è∞ Dans les 3 mois</option>
                                                        <option value="6mois">üìÖ Entre 3 et 6 mois</option>
                                                        <option value="renseignement">üí° Simple renseignement</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="bg-gray-50 rounded-xl p-4 border-2 border-gray-200">
                                                <label class="flex items-center gap-2 text-base font-bold text-dark-blue mb-3">Support actuel de la fa√ßade *</label>
                                                <div class="grid sm:grid-cols-2 gap-2">
                                                    <label class="radio-card flex items-center gap-2 p-3 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="Support_actuel" value="crepi_ancien" required class="w-4 h-4 accent-custom">
                                                        <div class="flex-1"><div class="font-bold text-sm text-gray-900">üèöÔ∏è Cr√™pi ancien</div></div>
                                                    </label>
                                                    <label class="radio-card flex items-center gap-2 p-3 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="Support_actuel" value="peinture" class="w-4 h-4 accent-custom">
                                                        <div class="flex-1"><div class="font-bold text-sm text-gray-900">üé® Peinture</div></div>
                                                    </label>
                                                    <label class="radio-card flex items-center gap-2 p-3 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="Support_actuel" value="neuf" class="w-4 h-4 accent-custom">
                                                        <div class="flex-1"><div class="font-bold text-sm text-gray-900">üß± Support neuf</div></div>
                                                    </label>
                                                    <label class="radio-card flex items-center gap-2 p-3 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="Support_actuel" value="autre" class="w-4 h-4 accent-custom">
                                                        <div class="flex-1"><div class="font-bold text-sm text-gray-900">‚ùì Autre</div></div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex justify-end mt-6">
                                            <button type="button" onclick="nextPage(2)" class="px-6 py-2 text-md font-bold text-white bg-dark-blue rounded-xl shadow-lg hover:bg-light-blue transition-all flex items-center gap-2">
                                                <span>Continuer</span>
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="page" id="page-2">
                                        <div class="space-y-4">
                                            <div class="text-center mb-6">
                                                <h2 class="text-xl font-bold text-gray-900 mb-1">2. Int√©r√™t pour l'Isolation</h2>
                                                <p class="text-sm text-gray-600">Un projet d'Isolation Thermique Ext√©rieure (ITE) ?</p>
                                            </div>
                                            
                                            <div class="bg-gray-50 rounded-xl p-4 border-2 border-gray-200">
                                                <label class="flex items-center gap-2 text-base font-bold text-dark-blue mb-2">Isolation Thermique Ext√©rieure (ITE) *</label>
                                                <p class="text-sm text-gray-600 mb-3">Souhaitez-vous coupler ce projet de ravalement avec une ITE ?</p>
                                                <div class="flex flex-wrap gap-2">
                                                    <label class="radio-card flex items-center gap-2 px-4 py-2 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="ITE_int√©ret" value="oui" required class="w-4 h-4 accent-custom">
                                                        <span class="font-bold text-sm text-gray-900">‚úÖ Oui</span>
                                                    </label>
                                                    <label class="radio-card flex items-center gap-2 px-4 py-2 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="ITE_int√©ret" value="non" class="w-4 h-4 accent-custom">
                                                        <span class="font-bold text-sm text-gray-900">‚ùå Non</span>
                                                    </label>
                                                    <label class="radio-card flex items-center gap-2 px-4 py-2 bg-white rounded-lg border-2 border-gray-200 cursor-pointer hover:border-light-blue transition-all">
                                                        <input type="radio" name="ITE_int√©ret" value="information" class="w-4 h-4 accent-custom">
                                                        <span class="font-bold text-sm text-gray-900">üí¨ Infos</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="flex justify-between mt-6 gap-3">
                                            <button type="button" onclick="prevPage(1)" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-xl shadow-md transition-all flex items-center gap-2">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"/></svg>
                                                <span>Pr√©c√©dent</span>
                                            </button>
                                            <button type="button" onclick="nextPage(3)" class="px-6 py-2 text-md font-bold text-white bg-dark-blue rounded-xl shadow-lg hover:bg-light-blue transition-all flex items-center gap-2">
                                                <span>Continuer</span>
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="page" id="page-3">
                                        <div class="space-y-4">
                                            <div class="text-center mb-6">
                                                <h2 class="text-xl font-bold text-gray-900 mb-1">3. Localisation et Contact</h2>
                                                <p class="text-sm text-gray-600">O√π se situe votre chantier et qui devons-nous contacter ?</p>
                                            </div>

                                            <div class="border-b pb-4 mb-4">
                                                <h3 class="text-lg font-bold text-gray-800 mb-3">üìç O√π se situe le chantier ?</h3>
                                                <div class="grid md:grid-cols-2 gap-4">
                                                    <div>
                                                        <label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Code Postal *</label>
                                                        <input type="text" name="Code_Postal" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="Ex: 59140">
                                                    </div>
                                                    <div>
                                                        <label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Ville *</label>
                                                        <input type="text" name="Ville" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="Ex: Lille">
                                                    </div>
                                                </div>
                                                <div>
                                                    <label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Adresse du chantier *</label>
                                                    <input type="text" name="Adresse" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="Ex: 12 rue de la R√©publique">
                                                </div>
                                            </div>

                                            <div class="pt-4">
                                                <h3 class="text-lg font-bold text-gray-800 mb-3">üë§ Vos coordonn√©es</h3>
                                                <div class="grid md:grid-cols-2 gap-4">
                                                    <div><label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Civilit√© *</label>
                                                        <select name="Civilit√©" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold bg-white text-gray-900">
                                                            <option value="" disabled selected>S√©lectionner</option><option value="Mme">üë© Madame</option><option value="M">üë® Monsieur</option>
                                                        </select>
                                                    </div>
                                                    <div><label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Pr√©nom *</label>
                                                        <input type="text" name="Pr√©nom" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="Jean">
                                                    </div>
                                                    <div><label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">Nom *</label>
                                                        <input type="text" name="Nom" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="Dupont">
                                                    </div>
                                                    <div><label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">T√©l√©phone *</label>
                                                        <input type="tel" name="T√©l√©phone" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="06 12 34 56 78">
                                                    </div>
                                                </div>
                                                <div><label class="flex items-center gap-2 text-sm font-bold text-gray-700 mb-1">E-mail *</label>
                                                    <input type="email" name="email" required class="input-modern w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-md font-semibold text-gray-900" placeholder="jean.dupont@example.com">
                                                </div>
                                                <div class="bg-gray-50 rounded-xl p-4 border-2 border-gray-200">
                                                    <label class="flex items-start gap-3 cursor-pointer group">
                                                        <input type="checkbox" name="consent" required class="mt-1 w-5 h-5 rounded border-gray-400 accent-custom">
                                                        <span class="text-sm text-gray-700 leading-relaxed">
                                                            J'accepte d'√™tre recontact√©(e) par <strong class="text-light-blue">B√¢ti R√©nov</strong> pour mon projet de r√©novation.
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="flex justify-between mt-6 gap-3">
                                            <button type="button" onclick="prevPage(2)" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-xl shadow-md transition-all flex items-center gap-2">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"/></svg>
                                                <span>Pr√©c√©dent</span>
                                            </button>
                                            <button type="submit" id="submit-btn" class="px-6 py-2 text-md font-bold text-white bg-dark-blue rounded-xl shadow-2xl hover:bg-light-blue transition-all flex items-center gap-2">
                                                <span>üéâ Recevoir Mon Devis Gratuit</span>
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</main>
<svg width="0" height="0">
    <defs>
        <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:var(--color-light-blue);stop-opacity:1" /><stop offset="100%" style="stop-color:var(--color-dark-blue);stop-opacity:1" />
        </linearGradient>
        <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:var(--color-dark-blue);stop-opacity:1" /><stop offset="100%" style="stop-color:var(--color-light-blue);stop-opacity:1" />
        </linearGradient>
        <linearGradient id="gradient3" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:var(--color-light-blue);stop-opacity:1" /><stop offset="100%" style="stop-color:var(--color-dark-blue);stop-opacity:1" />
        </linearGradient>
    </defs>
</svg>

<script>
    const FORM = document.getElementById('modern-form');
    // REMPLACER CETTE URL PAR VOTRE PROPRE LIEN GOOGLE APPS SCRIPT
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzt5km15di-5vsL3__Ma3YfZHn8aRiqFOJqW0UJqrhJw-BvoHsDlPg0yujHM5tsuEhwXw/exec';

    function updateProgress(page) {
        const circleRadius = 20; 
        const circumference = 2 * Math.PI * circleRadius; 
        
        const circles = [
            { circle: document.getElementById('circle-1'), num: document.getElementById('num-1') },
            { circle: document.getElementById('circle-2'), num: document.getElementById('num-2') },
            { circle: document.getElementById('circle-3'), num: document.getElementById('num-3') } 
        ];

        circles.forEach((item, i) => {
            if (item.circle) {
                item.circle.style.strokeDasharray = `${circumference} ${circumference}`;
                item.circle.style.strokeDashoffset = (i + 1 <= page ? 0 : circumference) + 'px';
            
                if (i + 1 <= page) {
                    item.num.className = 'text-md font-bold text-light-blue';
                } else {
                    item.num.className = 'text-md font-bold text-gray-400';
                }
            }
        });

        // Mise √† jour des lignes
        const line1 = document.getElementById('line-1');
        if (line1) line1.style.width = page >= 2 ? '100%' : '0%';
        
        const line2 = document.getElementById('line-2');
        if (line2) line2.style.width = page >= 3 ? '100%' : '0%';
    }

    function validateCurrentPage(currentPage) {
        const page = document.getElementById('page-' + currentPage);
        // On ne v√©rifie que les champs obligatoires dans la page actuelle
        const inputs = page.querySelectorAll('input[required], select[required], textarea[required]');
        let isValid = true;

        for (let input of inputs) {
            if (!input.checkValidity()) {
                input.reportValidity();
                isValid = false;
                break;
            }
            if (input.type === 'radio' && input.hasAttribute('required')) {
                const name = input.name;
                const checked = page.querySelector(`input[name="${name}"]:checked`);
                if (!checked) {
                    // Pour les radios, on signale le premier du groupe si aucun n'est coch√©
                    input.closest('.radio-card, .bg-gray-50').scrollIntoView({ behavior: 'smooth', block: 'center' });
                    input.reportValidity();
                    isValid = false;
                    break;
                }
            }
        }
        return isValid;
    }

    function nextPage(pageNum) {
        const cur = pageNum - 1;
        // V√©rifie si la page actuelle est valide
        if (!validateCurrentPage(cur)) return;
        
        document.getElementById('page-' + cur).classList.remove('active');
        document.getElementById('page-' + pageNum).classList.add('active');
        updateProgress(pageNum);
        window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });

        document.getElementById('error-message').classList.add('hidden');
    }

    function prevPage(pageNum) {
        const cur = pageNum + 1;
        
        document.getElementById('page-' + cur).classList.remove('active');
        document.getElementById('page-' + pageNum).classList.add('active');
        updateProgress(pageNum);
        window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });
    }

    FORM.addEventListener('submit', function(e) {
        e.preventDefault();

        // Validation de la derni√®re page (Page 3)
        if (!validateCurrentPage(3)) return;

        const button = document.getElementById('submit-btn');
        const formWrapper = document.getElementById('form-wrapper');
        const originalButtonText = button.innerHTML;

        button.disabled = true;
        button.innerHTML = '<span class="animate-pulse">‚è≥ Envoi en cours...</span>';

        document.getElementById('error-message').classList.add('hidden');

        const formData = new FormData(FORM);

        fetch(SCRIPT_URL, {
            method: 'POST',
            body: formData,
            mode: 'no-cors'
        })
        .then(() => {
            // Message de succ√®s
            formWrapper.innerHTML = `
                <div class="text-center p-6 rounded-xl shadow-lg bg-white" style="border: 2px solid var(--color-light-blue);">
                    <svg class="w-12 h-12 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <h3 class="text-xl font-bold text-dark-blue mb-1">Demande Envoy√©e !</h3>
                    <p class="text-sm text-gray-600">Votre devis est en cours de pr√©paration.</p>
                    <p class="mt-3 text-md font-medium text-dark-blue">Un conseiller vous recontactera sous 24h.</p>
                    <button type="button" onclick="window.location.reload()" class="mt-4 bg-dark-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-light-blue transition-all text-sm">
                        Nouvelle Demande
                    </button>
                </div>
            `;
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });
        })
        .catch(err => {
            console.error('Erreur lors de l\'envoi du formulaire:', err);
            button.disabled = false;
            button.innerHTML = originalButtonText;
            const errorMessage = document.getElementById('error-message');
            errorMessage.classList.remove('hidden');
            errorMessage.textContent = '‚ùå Une erreur de connexion est survenue. Veuillez r√©essayer.';
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });
        });
    });

    // Initialisation
    window.onload = function() {
        updateProgress(1);
    }

    window.nextPage = nextPage;
    window.prevPage = prevPage;
</script>

    <!-- 3. Bande Avantages / Points Forts (3 Colonnes) -->
    <section class="py-12 bg-white shadow-xl -mt-16 relative z-10 rounded-t-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Avantage 1 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.001 12.001 0 002 15c0 3.36 1.83 6.353 4.588 8.024L12 22l5.412 1.024C20.17 21.353 22 18.36 22 15a12.001 12.001 0 00-3.382-8.016z"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">Audit et Devis Fa√ßade Gratuit</h3>
                    <p class="text-sm text-gray-600">Estimation pr√©cise sans engagement pour votre projet de ravalement ou d'ITE.</p>
                </div>

                <!-- Avantage 2 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 11h.01M12 14h.01M15 11h.01M15 14h.01M3 12c0-2.327 1.48-4.304 3.5-5.32A7.96 7.96 0 0112 4c2.83 0 5.42 1.12 7.37 2.98C21.52 7.696 23 9.673 23 12s-1.48 4.304-3.5 5.32A7.96 7.96 0 0112 20c-2.83 0-5.42-1.12-7.37-2.98C2.48 16.304 1 14.327 1 12z"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">RGE Qualibat & Garantie</h3>
                    <p class="text-sm text-gray-600">Travaux certifi√©s, mat√©riaux de haute qualit√©, et garantie d√©cennale.</p>
                </div>

                <!-- Avantage 3 -->
                <div class="text-center p-6 bg-gray-50 rounded-xl border-t-4 border-light-blue shadow-md">
                    <svg class="w-10 h-10 text-light-blue mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-2.31 0-4.183 1.942-4.183 4.333 0 2.39 1.873 4.333 4.183 4.333s4.183-1.942 4.183-4.333c0-2.391-1.873-4.333-4.183-4.333zm0 0V3m0 2v3m0 8v3m0-2v2m-5.45-6.52l-2.06-2.06m2.06 2.06L6.55 10.48m10.9-2.06l2.06 2.06m-2.06-2.06L17.45 10.48M6.55 17.45l-2.06 2.06m2.06-2.06L4.49 19.51m10.9 2.06l2.06-2.06m-2.06 2.06L17.45 19.51"></path></svg>
                    <h3 class="text-lg font-bold text-dark-blue mb-2">Aides Financi√®res ITE</h3>
                    <p class="text-sm text-gray-600">Nous maximisons les subventions (MaPrimeR√©nov', CEE) pour votre Isolation par l'Ext√©rieur.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. Section D√©tail Prestations : R√©novation de Fa√ßade & ITE -->
    <section id="prestations" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-12">Notre Expertise : R√©novation de Fa√ßade et ITE</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16">
                <!-- Contenu Ravalement -->
                <div class="order-2 lg:order-1">
                    <h3 class="text-3xl font-bold text-dark-blue mb-4">1. Le Ravalement de Fa√ßade (Esth√©tique & Protection)</h3>
                    <p class="text-lg text-gray-700 mb-4">
                        Le ravalement est essentiel pour l'entretien et la long√©vit√© de votre bien. Nous traitons tous types de supports (cr√©pi, peinture, brique) avec des produits hydrofuges et respirants. 
                    </p>
                    <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                        <li>Diagnostic complet et nettoyage (d√©moussage, d√©capage).</li>
                        <li>R√©paration des fissures et traitement des remont√©es capillaires.</li>
                        <li>Application d'enduits et finitions personnalis√©es (couleurs, textures).</li>
                    </ul>
                    <a href="#devis-form" class="mt-6 inline-block text-light-blue font-bold hover:text-dark-blue border-b-2 border-light-blue/50 pb-1">
                        Demander un diagnostic gratuit
                    </a>
                </div>
                <!-- Image Ravalement -->
                <div class="order-1 lg:order-2 rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://nsm09.casimages.com/img/2025/11/25//25112506124326865018676563.png" alt="Image de Ravalement de Fa√ßade" class="w-full h-auto object-cover">
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Image ITE -->
                <div class="rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://nsm09.casimages.com/img/2025/11/25//25112506034426865018676503.jpg" alt="Image d'Isolation Thermique par l'Ext√©rieur" class="w-full h-auto object-cover">
                </div>
                <!-- Contenu ITE -->
                <div>
                    <h3 class="text-3xl font-bold text-dark-blue mb-4">2. L'Isolation Thermique par l'Ext√©rieur (ITE)</h3>
                    <p class="text-lg text-gray-700 mb-4">
                        Coupler votre ravalement √† une ITE est la solution la plus performante. Elle √©limine les ponts thermiques, r√©duit drastiquement votre consommation √©nerg√©tique et valorise votre patrimoine. 
                    </p>
                    <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                        <li>Isolation sans perte d'espace int√©rieur.</li>
                        <li>√âligibilit√© maximale aux aides (MaPrimeR√©nov', CEE).</li>
                        <li>Am√©lioration du DPE (Diagnostic de Performance √ânerg√©tique).</li>
                    </ul>
                    <a href="#aides" class="mt-6 inline-block text-light-blue font-bold hover:text-dark-blue border-b-2 border-light-blue/50 pb-1">
                        V√©rifier mon √©ligibilit√© aux aides
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. Section Simulateur d'Aides (Aides & Subventions) -->
    <section id="aides" class="py-20 bg-dark-blue text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-extrabold mb-4">Financez votre ITE avec MaPrimeR√©nov'</h2>
            <p class="text-xl text-indigo-100 max-w-3xl mx-auto mb-10">
                Gr√¢ce √† notre certification RGE, nous g√©rons votre dossier de A √† Z pour maximiser les subventions disponibles pour votre Isolation Thermique par l'Ext√©rieur.
            </p>

            <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-8">
                 <!-- CTA pour la v√©rification d'√©ligibilit√© -->
                <a href="#devis-form" class="cta-button inline-block px-10 py-4 text-lg font-bold text-dark-blue bg-light-blue rounded-xl shadow-xl shadow-light-blue/50 hover:bg-white">
                    V√©rifier mon √©ligibilit√©
                </a>
                <!-- CTA pour le simulateur (Placeholder pour lien Tally) -->
                <a href="#devis-form" class="cta-button inline-block px-10 py-4 text-lg font-bold text-white border-2 border-light-blue rounded-xl hover:bg-light-blue/20">
                    Acc√©der au Simulateur d'Aides
                </a>
            </div>
        </div>
    </section>

    <!-- 6. Section R√©alisations (Avant / Apr√®s) -->

    <section id="realisations" class="py-20 bg-gray">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-4">Nos R√©novations de Fa√ßade en Hauts-de-France</h2>
            <p class="text-xl text-center text-gray-600 max-w-3xl mx-auto mb-16">La preuve par l'image de notre expertise en ravalement et ITE.</p>

            <!-- Comparaisons Avant/Apr√®s avec labels -->
            <div class="space-y-12">
                <!-- Projet 1 -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431426865018676697.jpg"
             alt="Avant R√©novation Fa√ßade"
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>

    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431326865018676696.jpg"
             alt="Apr√®s R√©novation Fa√ßade"
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>
</div>

<!-- Projet 2 -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431226865018676690.jpg" 
             alt="Avant Travaux ITE" 
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>

    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431226865018676691.jpg" 
             alt="Apr√®s Travaux ITE" 
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>
</div>

<!-- Projet 3 -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431326865018676694.jpg" 
             alt="Avant Travaux ITE" 
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>

    <div class="relative overflow-hidden rounded-xl shadow-lg group">
        <img src="https://nsm09.casimages.com/img/2025/11/25//25112506431326865018676695.jpg" 
             alt="Apr√®s Travaux ITE" 
             class="w-full h-auto md:h-80 object-contain md:object-cover transition duration-500 group-hover:scale-105">
    </div>
</div>

             <!-- CTA vers le formulaire apr√®s les r√©alisations -->
            <div class="text-center mt-12">
                <a href="#devis-form" class="cta-button inline-block px-10 py-3 text-lg font-bold text-white bg-dark-blue rounded-full shadow-lg hover:bg-dark-blue/90">
                    Demandez votre devis
                </a>
            </div>
        </div>
    </section>

    <!-- 7. Section T√©moignages Clients -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√©moignages Clients - B√¢ti R√©nov</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dark-blue': '#1e3a8a',
                        'light-blue': '#3b82f6',
                    }
                }
            }
        }
    </script>
    <style>
        .testimonial-slide {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .testimonial-slide.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .carousel-button {
            transition: all 0.3s ease;
        }
        .carousel-button:hover {
            transform: scale(1.1);
            background-color: #1e40af;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Section T√©moignages Clients avec Carrousel -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-dark-blue mb-4">La Confiance de Nos Clients (Fa√ßade & ITE)</h2>
            <p class="text-center text-gray-600 mb-12 text-lg">D√©couvrez les exp√©riences de nos clients satisfaits</p>
            
            <div class="relative">
                <!-- Carrousel Container -->
                <div class="overflow-hidden">
                    
                    <!-- T√©moignage 1 -->
                    <div class="testimonial-slide active">
                        <div class="bg-gray rounded-2xl shadow-2xl overflow-hidden">
                            <div class="grid md:grid-cols-2 gap-0">
                                <!-- Photo -->
                                <div class="flex items-center justify-center p-6">
				<img src="https://files.cdn-files-a.com/uploads/10467913/400_6824c1c815b34.jpg"alt="Villa moderne apr√®s ITE"
    				 class="w-64 h-48 object-cover rounded-2xl mx-auto">

                                    <div class="absolute top-4 left-4 bg-light-blue text-white px-4 py-2 rounded-full text-sm font-semibold">
                                        Ravalement + ITE
                                    </div>
                                </div>
                                <!-- Contenu -->
                                <div class="p-8 md:p-10 flex flex-col justify-center border-t-4 border-light-blue">
                                    <div class="text-light-blue text-5xl mb-4">"</div>
                                    <p class="text-lg md:text-xl font-medium italic text-gray-700 mb-6 leading-relaxed">
                                        L'√©quipe B√¢ti R√©nov a transform√© l'ext√©rieur de ma maison. Gr√¢ce √† l'ITE et le ravalement, elle est magnifique et j'ai gagn√© 4¬∞C en hiver ! Le conseiller a √©t√© tr√®s efficace pour g√©rer MaPrimeR√©nov'.
                                    </p>
                                    <div class="flex items-center gap-4">
                                        <div class="w-16 h-16 bg-gradient-to-br from-light-blue to-dark-blue rounded-full flex items-center justify-center text-white font-bold text-xl">
                                            MD
                                        </div>
                                        <div>
                                            <div class="font-semibold text-lg text-dark-blue">M. et Mme Dubois</div>
                                            <div class="text-sm text-gray-600">Lille (59)</div>
                                            <div class="flex text-yellow-400 mt-1">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- T√©moignage 2 -->
                    <div class="testimonial-slide">
                        <div class="bg-gray rounded-2xl shadow-2xl overflow-hidden">
                            <div class="grid md:grid-cols-2 gap-0">
                                <!-- Photo -->
                                <div class="flex items-center justify-center p-6">
                                    <img src="https://images.cdn-files-a.com/ready_uploads/media/5019787/400_5eaf47190f7ef.jpg" 
                                         alt="Villa moderne apr√®s ITE" 
                                         class="w-64 h-48 object-cover rounded-2xl mx-auto">
                                    <div class="absolute top-4 left-4 bg-light-blue text-white px-4 py-2 rounded-full text-sm font-semibold">
                                        ITE Compl√®te
                                    </div>
                                </div>
                                <!-- Contenu -->
                                <div class="p-8 md:p-10 flex flex-col justify-center border-t-4 border-light-blue">
                                    <div class="text-light-blue text-5xl mb-4">"</div>
                                    <p class="text-lg md:text-xl font-medium italic text-gray-700 mb-6 leading-relaxed">
                                        Professionnalisme exemplaire ! Notre facture de chauffage a diminu√© de 40% apr√®s l'isolation thermique ext√©rieure. Le chantier a √©t√© r√©alis√© en 3 semaines sans d√©sagr√©ment. Je recommande vivement !
                                    </p>
                                    <div class="flex items-center gap-4">
                                        <div class="w-16 h-16 bg-gradient-to-br from-light-blue to-dark-blue rounded-full flex items-center justify-center text-white font-bold text-xl">
                                            CM
                                        </div>
                                        <div>
                                            <div class="font-semibold text-lg text-dark-blue">Catherine Martin</div>
                                            <div class="text-sm text-gray-600">Roubaix (59)</div>
                                            <div class="flex text-yellow-400 mt-1">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- T√©moignage 3 -->
                    <div class="testimonial-slide">
                        <div class="bg-gray rounded-2xl shadow-2xl overflow-hidden">
                            <div class="grid md:grid-cols-2 gap-0">
                                <!-- Photo -->
                                <div class="flex items-center justify-center p-6">
                                    <img src="https://files.cdn-files-a.com/uploads/10467913/400_gi-692889fc91dc0.jpg" 
                                         alt="Belle maison avec fa√ßade r√©nov√©e" 
                                         class="w-64 h-48 object-cover rounded-2xl mx-auto">
                                    <div class="absolute top-4 left-4 bg-light-blue text-white px-4 py-2 rounded-full text-sm font-semibold">
                                        Ravalement Fa√ßade
                                    </div>
                                </div>
                                <!-- Contenu -->
                                <div class="p-8 md:p-10 flex flex-col justify-center border-t-4 border-light-blue">
                                    <div class="text-light-blue text-5xl mb-4">"</div>
                                    <p class="text-lg md:text-xl font-medium italic text-gray-700 mb-6 leading-relaxed">
                                        Notre maison a retrouv√© une seconde jeunesse ! L'√©quipe a √©t√© √† l'√©coute de nos souhaits pour le choix des couleurs. Le r√©sultat d√©passe nos attentes. Nos voisins nous ont m√™me f√©licit√©s !
                                    </p>
                                    <div class="flex items-center gap-4">
                                        <div class="w-16 h-16 bg-gradient-to-br from-light-blue to-dark-blue rounded-full flex items-center justify-center text-white font-bold text-xl">
                                            JL
                                        </div>
                                        <div>
                                            <div class="font-semibold text-lg text-dark-blue">Jean Lefebvre</div>
                                            <div class="text-sm text-gray-600">Tourcoing (59)</div>
                                            <div class="flex text-yellow-400 mt-1">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- T√©moignage 4 -->
                    <div class="testimonial-slide">
                        <div class="bg-gray rounded-2xl shadow-2xl overflow-hidden">
                            <div class="grid md:grid-cols-2 gap-0">
                                <!-- Photo -->
<div class="flex items-center justify-center p-6">
    <img src="https://files.cdn-files-a.com/uploads/10467913/400_6824bc3095d0e.jpg"
         alt="Maison contemporaine isol√©e"
         class="w-64 h-48 object-cover rounded-2xl mx-auto">


                                    <div class="absolute top-4 left-4 bg-light-blue text-white px-4 py-2 rounded-full text-sm font-semibold">
                                        ITE + Enduit
                                    </div>
                                </div>
                                <!-- Contenu -->
                                <div class="p-8 md:p-10 flex flex-col justify-center border-t-4 border-light-blue">
                                    <div class="text-light-blue text-5xl mb-4">"</div>
                                    <p class="text-lg md:text-xl font-medium italic text-gray-700 mb-6 leading-relaxed">
                                        Excellent accompagnement du d√©but √† la fin ! Les aides financi√®res ont √©t√© g√©r√©es par B√¢ti R√©nov, nous n'avons eu aucun souci. Le confort thermique est incomparable, m√™me par grand froid.
                                    </p>
                                    <div class="flex items-center gap-4">
                                        <div class="w-16 h-16 bg-gradient-to-br from-light-blue to-dark-blue rounded-full flex items-center justify-center text-white font-bold text-xl">
                                            SP
                                        </div>
                                        <div>
                                            <div class="font-semibold text-lg text-dark-blue">Sophie Petit</div>
                                            <div class="text-sm text-gray-600">Marcq-en-Bar≈ìul (59)</div>
                                            <div class="flex text-yellow-400 mt-1">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Boutons de navigation -->
                <button onclick="changeSlide(-1)" 
                        class="carousel-button absolute left-4 top-1/2 -translate-y-1/2 bg-dark-blue text-white w-6 h-6 rounded-full shadow-lg flex items-center justify-center z-10">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
                <button onclick="changeSlide(1)" 
                        class="carousel-button absolute right-4 top-1/2 -translate-y-1/2 bg-dark-blue text-white w-6 h-6 rounded-full shadow-lg flex items-center justify-center z-10">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>

                <!-- Indicateurs -->
                <div class="flex justify-center gap-2 mt-8">
                    <button onclick="goToSlide(0)" class="indicator w-3 h-3 rounded-full bg-dark-blue transition-all"></button>
                    <button onclick="goToSlide(1)" class="indicator w-3 h-3 rounded-full bg-gray-300 transition-all"></button>
                    <button onclick="goToSlide(2)" class="indicator w-3 h-3 rounded-full bg-gray-300 transition-all"></button>
                    <button onclick="goToSlide(3)" class="indicator w-3 h-3 rounded-full bg-gray-300 transition-all"></button>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="text-center mt-16">
                <p class="text-xl text-gray-700 mb-6">Rejoignez nos clients satisfaits !</p>
                <a href="#devis-form" class="inline-block bg-light-blue text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-dark-blue transition-all transform hover:scale-105 shadow-lg">
                    Demandez votre devis gratuit
                </a>
            </div>
        </div>
    </section>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.testimonial-slide');
        const indicators = document.querySelectorAll('.indicator');

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            indicators.forEach(ind => {
                ind.classList.remove('bg-dark-blue');
                ind.classList.add('bg-gray-300');
            });
            
            slides[index].classList.add('active');
            indicators[index].classList.remove('bg-gray-300');
            indicators[index].classList.add('bg-dark-blue');
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide >= slides.length) currentSlide = 0;
            if (currentSlide < 0) currentSlide = slides.length - 1;
            showSlide(currentSlide);
        }

        function goToSlide(index) {
            currentSlide = index;
            showSlide(currentSlide);
        }

        // Auto-play (optionnel)
        setInterval(() => {
            changeSlide(1);
        }, 5000);
    </script>

</body>
</html>

    <!-- 8. Section Devis Gratuit (FORMULAIRE MULTI-√âTAPES ADAPT√â) -->
	
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√¢ti R√©nov - Devis Fa√ßade et ITE en 3 Clics</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Configuration des couleurs B√¢ti R√©nov */
        :root {
            --color-dark-blue: #063A5C; /* Bleu fonc√© */
            --color-light-blue: #1FA4E5; /* Bleu clair */
            --color-bg-light: #f7f9fc;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-light);
            color: #1f2937; /* Gray 800 */
        }
        .bg-dark-blue { background-color: var(--color-dark-blue); }
        .text-dark-blue { color: var(--color-dark-blue); }
        .bg-light-blue { background-color: var(--color-light-blue); }
        .text-light-blue { color: var(--color-light-blue); }
        .border-light-blue { border-color: var(--color-light-blue); }
        
        /* Styles pour le formulaire (Modernisation) */
        .input-modern { 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .input-modern:focus {
            transform: translateY(-1px);
            box-shadow: 0 10px 20px rgba(31, 164, 229, 0.2);
            border-color: var(--color-light-blue);
            outline: none;
        }
        .radio-card input:checked { 
            border-color: var(--color-light-blue); 
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.5);
        }
        .accent-custom { accent-color: var(--color-light-blue); }

        .gradient-text{
            background: linear-gradient(135deg, var(--color-light-blue), var(--color-dark-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Styles Multi-√©tapes */
        .page { display: none; animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .page.active { display: block; }
        .progress-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 0.5s ease;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        /* Styles pour la colonne d'arguments (Gauche) */
        .argument-card {
            background-color: #ffffff;
            border-left: 4px solid var(--color-light-blue);
            transition: all 0.3s ease;
        }
        .argument-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(6, 58, 92, 0.1);
        }

        /* Responsive adjustments */
        @media (min-width: 1024px) {
            .sticky-form {
                position: sticky;
                top: 2rem; /* Espace du haut */
            }
        }
      /* R√©duction automatique du texte sur mobile */
@media (max-width: 640px) {
  h1 { font-size: 1.9rem !important; }
  h2 { font-size: 1.5rem !important; }
  h3 { font-size: 1.25rem !important; }

  p, label, span, input, select, button {
    font-size: 0.9rem !important;
  }

  .text-lg { font-size: 1rem !important; }
  .text-xl { font-size: 1.2rem !important; }
  .text-2xl { font-size: 1.4rem !important; }
  .text-3xl { font-size: 1.6rem !important; }
  .text-4xl { font-size: 1.8rem !important; }
  .text-5xl { font-size: 2rem !important; }
  .text-6xl { font-size: 2.4rem !important; }

  /* Inputs */
  input, select {
    padding: 10px 14px !important;
  }
}

    </style>
</head>
<body>




    <!-- 9. √Ä Propos / Notre Entreprise -->
    <section id="a-propos" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-16">B√¢ti R√©nov : Expert en Fa√ßade et ITE</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Notre Expertise, Votre S√©r√©nit√©</h3>
                    <p class="text-gray-700 mb-6">
                        Fond√©e il y a plus de 10 ans, **B√¢ti R√©nov** s'est sp√©cialis√©e dans la r√©novation compl√®te de fa√ßades et l'Isolation Thermique par l'Ext√©rieur (ITE) dans toute la r√©gion Hauts-de-France. Notre mission est de vous garantir un ext√©rieur √† la fois esth√©tique, durable et hautement performant sur le plan √©nerg√©tique.
                    </p>
                    <p class="text-gray-700 mb-6 font-semibold">
                        <span class="text-dark-blue">Nos valeurs :</span> Fiabilit√©, Clart√© et Proximit√©. Nous vous assignons un conseiller d√©di√© du premier audit gratuit jusqu'√† la fin de la garantie d√©cennale.
                    </p>

                    <h3 class="text-2xl font-bold text-light-blue mb-4">Certifications et Zone d'Intervention</h3>
                    <ul class="text-gray-700 space-y-2 list-none p-0">
                        <li class="flex items-center">
                             <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Certifi√© RGE Qualibat : Obligatoire pour obtenir les aides ITE.
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            Zone Couverte : Toute la r√©gion Hauts-de-France (Lille, Amiens, Arras, etc.).
                        </li>
                        <li class="flex items-center">
                             <svg class="w-5 h-5 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            Garantie D√©cennale : Protection compl√®te de vos travaux de ravalement.
                        </li>
                    </ul>
                </div>
                <!-- Image de l'√©quipe ou d'un chantier -->
                <div class="rounded-xl overflow-hidden shadow-2xl">
                    <img src="https://nsm09.casimages.com/img/2025/11/25//25112506034526865018676505.png" alt="L'√©quipe B√¢ti R√©nov" class="w-full h-auto object-cover">
                </div>
            </div>
        </div>
    </section>

    <!-- 10. Contact & Coordonn√©es (Le formulaire de contact a √©t√© conserv√© ici) -->
    <section id="contact" class="py-20 bg-gray-50"">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-extrabold text-center text-dark-blue mb-4">Contactez Nos Experts Locaux</h2>
            <p class="text-xl text-center text-gray-600 max-w-3xl mx-auto mb-16">Nous sommes disponibles pour r√©pondre √† toutes vos questions du lundi au vendredi.</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Informations de Contact -->
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Informations Utiles</h3>
                    <div class="space-y-4 text-gray-700">
                        <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.5l1.3 2.6L12 11l2.2-4.4L15.5 3H19a2 2 0 012 2v14a2 2 0 01-2 2h-3.5l-1.3-2.6L12 13l-2.2 4.4L8.5 21H5a2 2 0 01-2-2V5z"></path></svg>
                            T√©l√©phone : <a href="tel:+33374060516" class="hover:text-light-blue transition duration-150 ml-2">03 74 06 05 16</a>
                        </p>
                         <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Horaires : Lun - Ven, 9h00 - 18h00
                        </p>
                        <p class="flex items-center">
                            <svg class="w-6 h-6 text-dark-blue mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.85-5.23A2 2 0 0114 4.54V19.46a2 2 0 01-3.15 1.77L3 17V8zM19 8v9l-7 4V4l7 4z"></path></svg>
                            Si√®ge Social : 15 RUE DU JEU DE MAIL, 59140 DUNKERQUE
                        </p>
                    </div>

                    <h3 class="text-2xl font-bold text-light-blue mt-8 mb-4">Formulaire de Contact</h3>
                    <!-- Formulaire de Contact simple -->
                    <form action="#" method="POST" class="space-y-4">
                        <input type="text" name="name" placeholder="Votre Nom" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue">
                        <input type="email" name="email" placeholder="Votre Email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue">
                        <textarea name="message" rows="4" placeholder="Votre Message (sujet + d√©tails)" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-light-blue focus:border-light-blue"></textarea>
                        <button type="submit" class="cta-button w-full px-6 py-3 text-lg font-bold text-white bg-light-blue rounded-lg shadow-md hover:bg-light-blue/90">
                            Envoyer le message
                        </button>
                    </form>
                </div>

                <!-- Google Maps (Placeholder) -->
                <div>
                    <h3 class="text-2xl font-bold text-light-blue mb-4">Notre Zone d'Intervention</h3>
                    <div class="h-96 rounded-xl overflow-hidden shadow-2xl border-4 border-gray-100">
                        <!-- Placeholder pour la carte Google Maps -->
<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2037855.8377752437!2d2.81802715!3d49.96318435!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e7f8c099b9bdb9%3A0x90b400cd653852e2!2sHauts-de-France%2C%20France!5e1!3m2!1sfr!2sma!4v1764093571652!5m2!1sfr!2sma" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </section>


    <!-- 11. Pied de Page (Footer) -->
    <footer class="bg-dark-blue text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 border-b border-gray-700 pb-8 mb-8">
                <!-- Colonne 1 : Soci√©t√© -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">B√¢ti R√©nov</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#a-propos" class="hover:text-light-blue transition duration-150">Notre Entreprise</a></li>
                        <li><a href="#realisations" class="hover:text-light-blue transition duration-150">Nos R√©alisations</a></li>
                        <li><a href="#contact" class="hover:text-light-blue transition duration-150">Recrutement</a></li>
                        <li><a href="#" class="hover:text-light-blue transition duration-150">Espace Presse</a></li>
                    </ul>
                </div>

                <!-- Colonne 2 : Service -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Nos Services</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#prestations" class="hover:text-light-blue transition duration-150">R√©novation de Fa√ßade</a></li>
                        <li><a href="#prestations" class="hover:text-light-blue transition duration-150">ITE (Isolation Thermique)</a></li>
                        <li><a href="#aides" class="hover:text-light-blue transition duration-150">Gestion des Aides</a></li>
                        <li><a href="#devis-form" class="hover:text-light-blue transition duration-150">Devis Gratuit</a></li>
                    </ul>
                </div>

                <!-- Colonne 3 : Support & L√©gal -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Informations</h4>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="mentions_legales_batirenov.html" class="hover:text-light-blue transition duration-150">Mentions L√©gales</a></li>
                        <li><a href="politique_confidentialite_batirenov.html" class="hover:text-light-blue transition duration-150">Politique de confidentialit√©</a></li>
                        <li><a href="#contact" class="hover:text-light-blue transition duration-150">Zone d'intervention</a></li>
                    </ul>
                </div>

                <!-- Colonne 4 : Coordonn√©es -->
                 <div>
                    <h4 class="text-lg font-semibold mb-4 text-light-blue">Contact</h4>
                    <p class="text-sm text-gray-300 mb-2">T√©l : 03 74 06 05 16</p>
                    <p class="text-sm text-gray-300">Hauts-de-France</p>
<div class="mt-4">
    <img src="https://images.prismic.io/travauxlib%2F3fa3e9bb-6c86-4182-9f5f-6521078cd3bd_logo_qualibat-rge+hd.png?auto=compress%2Cformat&rect=0%2C0%2C2400%2C2911&h=2911&width=2048" 
         alt="Certificat de Qualit√© RGE" 
         class="rounded-md w-[30%] h-auto">
</div>
                </div>
            </div>

            <div class="text-center text-sm text-gray-500 mt-8">
                &copy; 2025 B√¢ti R√©nov. Tous droits r√©serv√©s. | Site Optimis√© pour la R√©novation de Fa√ßade.
            </div>
        </div>
    </footer>

    <!-- SCRIPT DU FORMULAIRE MULTI-√âTAPES AVEC INT√âGRATION GEMINI -->
    <script>
        const FORM = document.getElementById('single-page-form');
        // ATTENTION : Ce script est param√©tr√© pour envoyer les donn√©es √† un Google Sheet via Google Apps Script (SCRIPT_URL).
        // Vous devez remplacer cette URL par l'URL de votre propre script Google Apps pour que l'envoi fonctionne.
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzt5km15di-5vsL3__Ma3YfZHn8aRiqFOJqW0UJqrhJw-BvoHsDlPg0yujHM5tsuEhwXw/exec';
        
        // --- LLM API Configuration ---
        const API_URL_BASE = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent';
        const GEMINI_API_KEY = ""; // Canvas will provide this

        // Utility for exponential backoff
        async function fetchWithRetry(url, options, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.status === 429) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    }
                    if (!response.ok) {
                        const errorBody = await response.text();
                        throw new Error(`API call failed with status ${response.status}: ${errorBody}`);
                    }
                    return response;
                } catch (error) {
                    if (i === retries - 1) throw error;
                }
            }
        }
        
        // Main function to generate advice using Gemini API
        async function generateAdvice() {
            const surfaceInput = document.querySelector('input[name="surface"]');
            const supportRadio = document.querySelector('input[name="Support_actuel"]:checked');
            const iteRadio = document.querySelector('input[name="ITE_int√©ret"]:checked');
            
            const surface = surfaceInput ? surfaceInput.value : '';
            const support = supportRadio ? supportRadio.value : '';
            const ite = iteRadio ? iteRadio.value : '';
            
            const resultDiv = document.getElementById('ai-result');
            const button = document.getElementById('generate-advice-btn');
            
            if (!surface || !supportRadio || !iteRadio) {
                resultDiv.innerHTML = '<span class="text-red-500">Veuillez renseigner la Surface, le Support actuel et l\'int√©r√™t pour l\'ITE.</span>';
                surfaceInput?.reportValidity();
                return;
            }

            // Map French values to better English descriptions for the model prompt
            const supportMap = {
                'crepi_ancien': 'Old roughcast or plaster',
                'peinture': 'Paint',
                'neuf': 'New substrate (cinder block, brick)',
                'autre': 'Other / Undefined'
            };

            const iteMap = {
                'oui': 'Yes, client is interested in ITE',
                'non': 'No, client is NOT interested in ITE',
                'information': 'Client only wants information about ITE'
            };

            const userQuery = `Analyze a facade renovation project. Surface area: ${surface} m¬≤. Current support: ${supportMap[support]}. ITE interest: ${iteMap[ite]}. 
            Provide a CONCISE, 3-sentence analysis: 1. State the project challenge (based on the support and area). 2. Provide a brief, encouraging note on the ITE interest. 3. Suggest a relevant material or step to consider (e.g., specific insulation type or necessity for detailed diagnosis). Respond entirely in French.`;

            const systemPrompt = "You are a specialized RGE (Reconnu Garant de l'Environnement) technical advisor for an energy renovation company in France. Your tone is professional, technical, concise, and conversion-oriented.";

            resultDiv.innerHTML = 'Analyse en cours... <span class="animate-spin inline-block">‚è≥</span>';
            button.disabled = true;
            button.innerHTML = 'Analyse en cours...';

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                tools: [{ "google_search": {} }],
                config: {
                    temperature: 0.5,
                    maxOutputTokens: 200 // Keep the response short
                }
            };

            try {
                const response = await fetchWithRetry(`${API_URL_BASE}?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "D√©sol√©, une erreur est survenue lors de l'analyse.";
                
                resultDiv.innerHTML = `<span class="font-semibold text-dark-blue">AVIS EXPERT :</span> ${text}`;

            } catch (error) {
                console.error('Gemini API Error:', error);
                resultDiv.innerHTML = `<span class="text-red-500">Erreur de connexion. Veuillez r√©essayer.</span>`;
            } finally {
                button.disabled = false;
                button.innerHTML = 'Obtenir un premier avis expert ‚ú®';
            }
        }
        window.generateAdvice = generateAdvice; // Make function globally accessible
        // --- END LLM API Configuration ---


        function updateProgress(page) {
            // Mise √† jour de la barre de progression pour correspondre au th√®me B√¢ti R√©nov
            for (let i = 1; i <= 3; i++) {
                const circle = document.getElementById(`progress-${i}`);
                const line = document.getElementById(`line-${i}`);
                
                // R√©initialisation des classes
                circle.className = 'w-10 h-10 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center font-bold transition-colors duration-300';
                if (line) line.style.width = '0%';
                
                if (i <= page) {
                    // Coche ou Page actuelle
                    circle.classList.remove('bg-gray-300', 'text-gray-600');
                    circle.classList.add('bg-light-blue', 'text-white');
                    if (i < page && line) {
                        // Ligne de progression compl√©t√©e
                        line.style.width = '100%';
                    }
                }
            }
        }

        function validateCurrentPage(currentPage) {
            const page = document.getElementById(`page-${currentPage}`);
            // S√©lectionne tous les champs requis
            const inputs = page.querySelectorAll('input[required], select[required], textarea[required]');
            
            for (let input of inputs) {
                // Pour les radios/checkboxes, la validation doit √™tre sp√©cifique car .checkValidity() peut √©chouer pour un groupe entier
                if ((input.type === 'radio' || input.type === 'checkbox') && !input.checked) {
                    // Pour les groupes de radios, on v√©rifie si au moins un est coch√© (c'est ce que checkValidity fait normalement si l'attribut required est sur au moins un √©l√©ment du groupe)
                    const name = input.name;
                    if (name) {
                        const checked = page.querySelector(`input[name="${name}"]:checked`);
                        if (!checked) {
                            // Si aucun n'est coch√©, on force la validation du premier pour afficher l'erreur
                            input.reportValidity();
                            return false;
                        }
                    }
                } else if (!input.checkValidity()) {
                    input.reportValidity();
                    return false;
                }
            }
            return true;
        }

        function nextPage(pageNum) {
            const currentPage = pageNum - 1;
            
            if (!validateCurrentPage(currentPage)) {
                return;
            }
            
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            document.getElementById(`page-${pageNum}`).classList.add('active');
            updateProgress(pageNum);
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' }); // Scroll vers le haut du formulaire
        }

        function prevPage(pageNum) {
            const currentPage = pageNum + 1;
            document.getElementById(`page-${currentPage}`).classList.remove('active');
            document.getElementById(`page-${pageNum}`).classList.add('active');
            updateProgress(pageNum);
            window.scrollTo({ top: document.getElementById('devis-form').offsetTop, behavior: 'smooth' });
        }

        FORM.addEventListener('submit', function(e) {
            e.preventDefault();¬†

            if (!validateCurrentPage(3)) {
                return;
            }

            const button = document.getElementById('submit-button');
            const originalButtonContent = button.innerHTML;
            button.disabled = true;
            button.innerHTML = 'Envoi en cours...';

            const formData = new FormData(FORM);

            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            })
            .then(response => {
                // Remplacement d'alert par un message box personnalis√© ou un message de succ√®s
                console.log('Formulaire de devis envoy√© avec succ√®s. V√©rifiez votre Google Sheet !');
                
                // Afficher un message de succ√®s simple dans le formulaire (ou modal)
                document.getElementById('page-3').innerHTML = `
                    <div class="text-center p-12 rounded-xl shadow-2xl" style="background-color: rgba(31, 164, 229, 0.1);">
                        <svg class="w-16 h-16 text-light-blue mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <h3 class="text-3xl font-bold text-dark-blue mb-2">Demande Envoy√©e !</h3>
                        <p class="text-xl text-gray-600">Votre demande de devis a √©t√© transmise √† B√¢ti R√©nov.</p>
                        <p class="mt-4 text-lg font-medium text-dark-blue">Un conseiller vous recontactera sous 24h.</p>
                        <button type="button" onclick="window.location.reload()" class="mt-8 bg-light-blue text-white font-bold py-3 px-8 rounded-xl hover:bg-dark-blue transition-all">
                            Retour √† l'accueil
                        </button>
                    </div>
                `;
                
            })
            .catch(error => {
                console.error('Erreur lors de l\'envoi du formulaire:', error);
                // Si l'envoi a √©chou√©, on remet le bouton.
                const failureMessage = 'Une erreur est survenue lors de l\'envoi. Veuillez v√©rifier votre connexion et r√©essayer.';
                document.getElementById('page-3').innerHTML = `
                    <div class="text-center p-12 rounded-xl shadow-2xl" style="background-color: rgba(255, 99, 71, 0.1);">
                        <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3.001L13.732 4.99a3.001 3.001 0 00-5.464 0L2.268 16.001c-.77 1.334.192 3.001 1.732 3.001z"></path></svg>
                        <h3 class="text-3xl font-bold text-red-700 mb-2">Erreur d'envoi !</h3>
                        <p class="text-xl text-gray-600">${failureMessage}</p>
                        <button type="button" onclick="window.location.reload()" class="mt-8 bg-red-500 text-white font-bold py-3 px-8 rounded-xl hover:bg-red-600 transition-all">
                            Recommencer
                        </button>
                    </div>
                `;

            })
            .finally(() => {
                // Si le succ√®s a √©t√© affich√©, le contenu de page-3 a chang√©, on ne le remet pas.
                if (document.getElementById('page-3').querySelector('h3')?.textContent !== 'Demande Envoy√©e !') {
                    button.disabled = false;
                    button.innerHTML = originalButtonContent;
                }
            });
        });

        // Initialiser la progression au chargement
        window.onload = function() {
            updateProgress(1);
        }
    </script>
<script>
const btn = document.getElementById("btnMenuMobile");
const menu = document.getElementById("menuMobile");
let menuOpen = false;

btn.addEventListener("click", () => {
    if (!menuOpen) {
        menu.classList.remove("hidden", "menu-close");
        menu.classList.add("menu-open");
        menuOpen = true;
    } else {
        menu.classList.remove("menu-open");
        menu.classList.add("menu-close");

        // Attendre la fin de l‚Äôanimation avant de cacher
        setTimeout(() => {
            menu.classList.add("hidden");
        }, 200);

        menuOpen = false;
    }
});
</script>

</body>
</html>
